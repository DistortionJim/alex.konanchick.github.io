"use strict";var SiteJS={onload:document.addEventListener("DOMContentLoaded",function(){SiteJS.init(),$(".js-select").select2();new LazyLoad({elements_selector:".lazy"})}),init:function(){this.fixedHeader(),this.scrollTop(),this.statisticsMap(),this.mobileMenu(),this.mainSlider(),this.advantagesSlider(),this.masonryInit(),this.hideMessage(),this.selectBox(),this.loadMoreCatalog(),this.cartSlider(),this.interestingSlider(),this.inputFocus(),this.tabs(),this.calendar(),this.showPassword(),this.accordion()},fixedHeader:function(){var t=$(".header__bottom");$(window).scroll(function(){44<$(window).scrollTop()?t.addClass("fixed"):t.removeClass("fixed")}).scroll()},statisticsMap:function(){$(document).mouseup(function(t){var e=$(".map-tooltip");e.is(t.target)||0!==e.has(t.target).length||(e.removeClass("active"),$(".map-statistics__svg .active-path").removeClass("active"))}),$(".map-statistics__svg .active-path").on("click",function(){var t=$(this).attr("id"),e=$(".map-tooltip");$(".map-statistics__svg .active-path").removeClass("active"),e.removeClass("active"),$(this).addClass("active"),e.each(function(){$(this).hasClass(t)&&$(this).addClass("active")})});function t(t,e){return 100*e/(t+e)-.8}var e=parseInt($(".statistics-chart--teacher .statistics-chart__val--registre").text().replace(/\s+/g,"")),i=parseInt($(".statistics-chart--teacher .statistics-chart__val--active").text().replace(/\s+/g,"")),s=parseInt($(".statistics-chart--student .statistics-chart__val--registre").text().replace(/\s+/g,"")),a=parseInt($(".statistics-chart--student .statistics-chart__val--active").text().replace(/\s+/g,"")),n=t(e,i),o=n+1.6,c=t(s,a),r=c+1.6;$(".statistics-chart--teacher .circle").attr("stroke-dasharray",n+", 100"),$(".statistics-chart--teacher .circle-white").attr("stroke-dasharray",o+", 100"),$(".statistics-chart--student .circle").attr("stroke-dasharray",c+", 100"),$(".statistics-chart--student .circle-white").attr("stroke-dasharray",r+", 100")},scrollTop:function(){$(".btn-up").click(function(t){return t.preventDefault(),$("html, body").animate({scrollTop:0},"slow"),!1})},mobileMenu:function(){var t=$(".hamburger"),e=$(".mobile-menu"),i=$(".mobile-profile-menu");t.on("click",function(){e.addClass("active")}),$(".h-profile__link").on("click",function(){i.addClass("active")}),$(".mobile-menu__close").on("click",function(){e.removeClass("active")}),$(".mobile-profile-menu__close").on("click",function(){i.removeClass("active")})},mainSlider:function(){new Swiper(".try-now-slider",{slidesPerView:2,spaceBetween:120,centeredSlides:!0,speed:800,loop:!0,navigation:{nextEl:".try-now-slider__arrow--next",prevEl:".try-now-slider__arrow--prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{900:{slidesPerView:"auto",spaceBetween:0,centeredSlides:!1,navigation:!1,loop:!1}}})},advantagesSlider:function(){new Swiper(".advantages__slider",{slidesPerView:"auto",loop:!0,spaceBetween:30,pagination:{el:".advantages__pagination",clickable:!0},navigation:{nextEl:".advantages__next",prevEl:".advantages__prev"}})},masonryInit:function(){$(document).ready(function(){$(".gallery__list").masonry({itemSelector:".gallery__item",columnWidth:".gallery__item",gutter:26}),$(".catalog-list").masonry({itemSelector:".catalog-list__item",columnWidth:".catalog-list__item",gutter:30}),$(".news__list").masonry({itemSelector:".news-items",columnWidth:".news-items",gutter:30}),$(".accessories-list").masonry({itemSelector:".accessories-list__item",columnWidth:".accessories-list__item",gutter:30}),$(".accessories-list__item").on("mouseenter mouseleave",function(){$(".accessories-list").masonry()})})},hideMessage:function(){$(".attention-top-msg .attention-top-msg__btn").on("click",function(){$(this).parents(".attention-top-msg").hide()})},selectBox:function(){$(window).width()<=768&&($(".dropdown").click(function(){$(this).toggleClass("active"),$(this).find(".dropdown__menu").slideToggle(300)}),$(".dropdown").focusout(function(){$(this).removeClass("active"),$(this).find(".dropdown__menu").slideUp(300)}),$(".dropdown__menu li").click(function(){$(this).parents(".dropdown").find(".dropdown__select").html($(this).html())}))},loadMoreCatalog:function(){$(".catalog-list__item").each(function(){$(this).find(".catalog-list__more").on("click",function(t){t.preventDefault(),$(this).toggleClass("active"),$(this).parents(".catalog-list__item").find(".catalog-list__themes").toggleClass("active"),$(".catalog-list").masonry()})})},cartSlider:function(){var t=new Swiper(".cart-slider-bottom",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,loop:!0,navigation:{nextEl:".cart-slider-bottom__next",prevEl:".cart-slider-bottom__prev"}});new Swiper(".cart-slider-top",{spaceBetween:10,loop:!0,pagination:{el:".cart-slider-top__pagination",clickable:!0},thumbs:{swiper:t},breakpoints:{576:{slidesPerView:2,spaceBetween:2,centeredSlides:!0,speed:800,loop:!0}}})},interestingSlider:function(){new Swiper(".interesting-slider",{slidesPerView:4,spaceBetween:30,loop:!0,pagination:{el:".interesting-slider__pagination",clickable:!0},navigation:{nextEl:".interesting-slider__next",prevEl:".interesting-slider__prev"},breakpoints:{768:{slidesPerView:3},600:{slidesPerView:2},441:{slidesPerView:"auto"}}})},inputFocus:function(){$(".field__input").each(function(){0<$(this).val().length&&$(this).parent().addClass("filled"),$(this).keyup(function(){0<$(this).val().length?$(this).parent().addClass("filled"):$(this).parent().removeClass("filled")})})},tabs:function(){$(".tabs-nav").on("click","li:not(.active)",function(){console.log($(this).parent().next()),$(this).addClass("active").siblings().removeClass("active").parent().next().closest(".tabs").find(".tabs-content").removeClass("active").eq($(this).index()).addClass("active")})},calendar:function(){$(".profile__datepicker").datepicker({language:{days:["Неділя","Понеділок","Вівторок","Середа","Четвер","П`ятниця","Субота"],daysShort:["Нед","Пон","Вів","Сер","Чет","П`ят","Суб"],daysMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthsShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],today:"Сьогодні",clear:"Очистити",dateFormat:"dd.mm.yyyy",firstDay:1}})},showPassword:function(){$(".field__icon--pass").click(function(){$(this).toggleClass("show");var t=$(this).parent().find(".field__input");"password"==t.attr("type")?t.attr("type","text"):t.attr("type","password")})},accordion:function(){$(".accordion__head").on("click",function(){$(".accordion__body").not($(this).next()).slideUp(400),$(".accordion__head").not($(this)).removeClass("active"),$(this).next().slideToggle(400),$(this).toggleClass("active")}),$(".accordion-inner__head").on("click",function(){$(".accordion-inner__body").not($(this).next()).slideUp(400),$(".accordion-inner__head").not($(this)).removeClass("active"),$(this).next().slideToggle(400),$(this).toggleClass("active")})}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiU2l0ZUpTIiwib25sb2FkIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5pdCIsIiQiLCJzZWxlY3QyIiwiTGF6eUxvYWQiLCJlbGVtZW50c19zZWxlY3RvciIsInRoaXMiLCJmaXhlZEhlYWRlciIsInNjcm9sbFRvcCIsInN0YXRpc3RpY3NNYXAiLCJtb2JpbGVNZW51IiwibWFpblNsaWRlciIsImFkdmFudGFnZXNTbGlkZXIiLCJtYXNvbnJ5SW5pdCIsImhpZGVNZXNzYWdlIiwic2VsZWN0Qm94IiwibG9hZE1vcmVDYXRhbG9nIiwiY2FydFNsaWRlciIsImludGVyZXN0aW5nU2xpZGVyIiwiaW5wdXRGb2N1cyIsInRhYnMiLCJjYWxlbmRhciIsInNob3dQYXNzd29yZCIsImFjY29yZGlvbiIsImJ0blNjcm9sbFVwIiwid2luZG93Iiwic2Nyb2xsIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIm1vdXNldXAiLCJlIiwiZGl2IiwiaXMiLCJ0YXJnZXQiLCJoYXMiLCJsZW5ndGgiLCJvbiIsImZpbGxJZCIsImF0dHIiLCJ0b29sdGlwIiwiZWFjaCIsImhhc0NsYXNzIiwicGVyY2VudCIsImEiLCJiIiwidGVhY2hlclJlZ2lzdHJlIiwicGFyc2VJbnQiLCJ0ZXh0IiwicmVwbGFjZSIsInRlYWNoZXJBY3RpdmUiLCJzdHVkZW50UmVnaXN0cmUiLCJzdHVkZW50QWN0aXZlIiwidGVhY2hlclBlcmNlbnQiLCJ0ZWFjaGVyUGVyY2VudFNoYWRvdyIsInN0dWRlbnRQZXJjZW50Iiwic3R1ZGVudFBlcmNlbnRTaGFkb3ciLCJjbGljayIsInByZXZlbnREZWZhdWx0IiwiYW5pbWF0ZSIsInRvdWNoIiwibWVudSIsInByb2ZpbGVNZW51IiwiU3dpcGVyIiwic2xpZGVzUGVyVmlldyIsInNwYWNlQmV0d2VlbiIsImNlbnRlcmVkU2xpZGVzIiwic3BlZWQiLCJsb29wIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsInBhZ2luYXRpb24iLCJlbCIsImNsaWNrYWJsZSIsImJyZWFrcG9pbnRzIiwiOTAwIiwicmVhZHkiLCJtYXNvbnJ5IiwiaXRlbVNlbGVjdG9yIiwiY29sdW1uV2lkdGgiLCJndXR0ZXIiLCJwYXJlbnRzIiwiaGlkZSIsIndpZHRoIiwidG9nZ2xlQ2xhc3MiLCJmaW5kIiwic2xpZGVUb2dnbGUiLCJmb2N1c291dCIsInNsaWRlVXAiLCJodG1sIiwiZ2FsbGVyeVRodW1icyIsImZyZWVNb2RlIiwid2F0Y2hTbGlkZXNWaXNpYmlsaXR5Iiwid2F0Y2hTbGlkZXNQcm9ncmVzcyIsInRodW1icyIsInN3aXBlciIsIjU3NiIsIjc2OCIsIjYwMCIsIjQ0MSIsInZhbCIsInBhcmVudCIsImtleXVwIiwiY29uc29sZSIsImxvZyIsIm5leHQiLCJzaWJsaW5ncyIsImNsb3Nlc3QiLCJlcSIsImluZGV4IiwiZGF0ZXBpY2tlciIsImxhbmd1YWdlIiwiZGF5cyIsImRheXNTaG9ydCIsImRheXNNaW4iLCJtb250aHMiLCJtb250aHNTaG9ydCIsInRvZGF5IiwiY2xlYXIiLCJkYXRlRm9ybWF0IiwiZmlyc3REYXkiLCJpbnB1dCIsIm5vdCJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBSUEsT0FBUyxDQUNUQyxPQUFRQyxTQUFTQyxpQkFBaUIsbUJBQW9CLFdBQ2xESCxPQUFPSSxPQUVQQyxFQUFFLGNBQWNDLFVBRVMsSUFBSUMsU0FBUyxDQUNsQ0Msa0JBQW1CLFlBSTNCSixLQUFNLFdBRUZLLEtBQUtDLGNBRUxELEtBQUtFLFlBRUxGLEtBQUtHLGdCQUVMSCxLQUFLSSxhQUVMSixLQUFLSyxhQUVMTCxLQUFLTSxtQkFFTE4sS0FBS08sY0FFTFAsS0FBS1EsY0FFTFIsS0FBS1MsWUFFTFQsS0FBS1Usa0JBRUxWLEtBQUtXLGFBRUxYLEtBQUtZLG9CQUVMWixLQUFLYSxhQUVMYixLQUFLYyxPQUVMZCxLQUFLZSxXQUVMZixLQUFLZ0IsZUFFTGhCLEtBQUtpQixhQUlUaEIsWUFBYSxXQUNULElBQUlpQixFQUFjdEIs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M0JwRixFQUFFSSxNQUFNOEUsWUFBWSxZQUd4QmxGLEVBQUUsMEJBQTBCa0MsR0FBRyxRQUFTLFdBQ3BDbEMsRUFBRSwwQkFBMEJ3SCxJQUFJeEgsRUFBRUksTUFBTW1HLFFBQVFqQixRQUFRLEtBQ3hEdEYsRUFBRSwwQkFBMEJ3SCxJQUFJeEgsRUFBRUksT0FBT3NCLFlBQVksVUFFckQxQixFQUFFSSxNQUFNbUcsT0FBT25CLFlBQVksS0FDM0JwRixFQUFFSSxNQUFNOEUsWUFBWSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBTaXRlSlMgPSB7XG4gICAgb25sb2FkOiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBTaXRlSlMuaW5pdCgpO1xuXG4gICAgICAgICQoJy5qcy1zZWxlY3QnKS5zZWxlY3QyKCk7XG5cbiAgICAgICAgY29uc3QgbGF6eUxvYWRJbnN0YW5jZSA9IG5ldyBMYXp5TG9hZCh7XG4gICAgICAgICAgICBlbGVtZW50c19zZWxlY3RvcjogXCIubGF6eVwiXG4gICAgICAgIH0pO1xuXG4gICAgfSksXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMuZml4ZWRIZWFkZXIoKTtcblxuICAgICAgICB0aGlzLnNjcm9sbFRvcCgpO1xuXG4gICAgICAgIHRoaXMuc3RhdGlzdGljc01hcCgpO1xuXG4gICAgICAgIHRoaXMubW9iaWxlTWVudSgpO1xuXG4gICAgICAgIHRoaXMubWFpblNsaWRlcigpO1xuXG4gICAgICAgIHRoaXMuYWR2YW50YWdlc1NsaWRlcigpO1xuXG4gICAgICAgIHRoaXMubWFzb25yeUluaXQoKTtcblxuICAgICAgICB0aGlzLmhpZGVNZXNzYWdlKCk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RCb3goKTtcblxuICAgICAgICB0aGlzLmxvYWRNb3JlQ2F0YWxvZygpO1xuXG4gICAgICAgIHRoaXMuY2FydFNsaWRlcigpO1xuXG4gICAgICAgIHRoaXMuaW50ZXJlc3RpbmdTbGlkZXIoKTtcblxuICAgICAgICB0aGlzLmlucHV0Rm9jdXMoKTtcblxuICAgICAgICB0aGlzLnRhYnMoKTtcblxuICAgICAgICB0aGlzLmNhbGVuZGFyKCk7XG5cbiAgICAgICAgdGhpcy5zaG93UGFzc3dvcmQoKTtcblxuICAgICAgICB0aGlzLmFjY29yZGlvbigpO1xuXG5cbiAgICB9LFxuICAgIGZpeGVkSGVhZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IGJ0blNjcm9sbFVwID0gJChcIi5oZWFkZXJfX2JvdHRvbVwiKTtcbiAgICAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiA0NCApIHtcbiAgICAgICAgICAgICAgICBidG5TY3JvbGxVcC5hZGRDbGFzcygnZml4ZWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnRuU2Nyb2xsVXAucmVtb3ZlQ2xhc3MoJ2ZpeGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnNjcm9sbCgpO1xuICAgIH0sXG4gICAgc3RhdGlzdGljc01hcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICQoZG9jdW1lbnQpLm1vdXNldXAoZnVuY3Rpb24gKGUpe1xuICAgICAgICAgICAgY29uc3QgZGl2ID0gJChcIi5tYXAtdG9vbHRpcFwiKTtcbiAgICAgICAgICAgIGlmICghZGl2LmlzKGUudGFyZ2V0KVxuICAgICAgICAgICAgICAgICYmIGRpdi5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRpdi5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJCgnLm1hcC1zdGF0aXN0aWNzX19zdmcgLmFjdGl2ZS1wYXRoJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgJCgnLm1hcC1zdGF0aXN0aWNzX19zdmcgLmFjdGl2ZS1wYXRoJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgZmlsbElkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgY29uc3QgdG9vbHRpcCA9ICQoJy5tYXAtdG9vbHRpcCcpO1xuICAgICAgICAgICAgJCgnLm1hcC1zdGF0aXN0aWNzX19zdmcgLmFjdGl2ZS1wYXRoJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgdG9vbHRpcC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIHRvb2x0aXAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhmaWxsSWQpKSB7XG4gICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdGVhY2hlclJlZ2lzdHJlID0gcGFyc2VJbnQoJCgnLnN0YXRpc3RpY3MtY2hhcnQtLXRlYWNoZXIgLnN0YXRpc3RpY3MtY2hhcnRfX3ZhbC0tcmVnaXN0cmUnKS50ZXh0KCkucmVwbGFjZSgvXFxzKy9nLCAnJykpO1xuICAgICAgICBjb25zdCB0ZWFjaGVyQWN0aXZlID0gcGFyc2VJbnQoJCgnLnN0YXRpc3RpY3MtY2hhcnQtLXRlYWNoZXIgLnN0YXRpc3RpY3MtY2hhcnRfX3ZhbC0tYWN0aXZlJykudGV4dCgpLnJlcGxhY2UoL1xccysvZywgJycpKTtcbiAgICAgICAgY29uc3Qgc3R1ZGVudFJlZ2lzdHJlID0gcGFyc2VJbnQoJCgnLnN0YXRpc3RpY3MtY2hhcnQtLXN0dWRlbnQgLnN0YXRpc3RpY3MtY2hhcnRfX3ZhbC0tcmVnaXN0cmUnKS50ZXh0KCkucmVwbGFjZSgvXFxzKy9nLCAnJykpO1xuICAgICAgICBjb25zdCBzdHVkZW50QWN0aXZlID0gcGFyc2VJbnQoJCgnLnN0YXRpc3RpY3MtY2hhcnQtLXN0dWRlbnQgLnN0YXRpc3RpY3MtY2hhcnRfX3ZhbC0tYWN0aXZlJykudGV4dCgpLnJlcGxhY2UoL1xccysvZywgJycpKTtcblxuICAgICAgICBjb25zdCBwZXJjZW50ID0gKGEsIGIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoYiAqIDEwMCAvIChhICsgYikpIC0gMC44O1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHRlYWNoZXJQZXJjZW50ID0gcGVyY2VudCh0ZWFjaGVyUmVnaXN0cmUsIHRlYWNoZXJBY3RpdmUpO1xuICAgICAgICBjb25zdCB0ZWFjaGVyUGVyY2VudFNoYWRvdyA9IHRlYWNoZXJQZXJjZW50ICsgMS42O1xuICAgICAgICBjb25zdCBzdHVkZW50UGVyY2VudCA9IHBlcmNlbnQoc3R1ZGVudFJlZ2lzdHJlLCBzdHVkZW50QWN0aXZlKTtcbiAgICAgICAgY29uc3Qgc3R1ZGVudFBlcmNlbnRTaGFkb3cgPSBzdHVkZW50UGVyY2VudCArIDEuNjtcblxuICAgICAgICAkKCcuc3RhdGlzdGljcy1jaGFydC0tdGVhY2hlciAuY2lyY2xlJykuYXR0cignc3Ryb2tlLWRhc2hhcnJheScsIHRlYWNoZXJQZXJjZW50ICsgXCIsIDEwMFwiKTtcbiAgICAgICAgJCgnLnN0YXRpc3RpY3MtY2hhcnQtLXRlYWNoZXIgLmNpcmNsZS13aGl0ZScpLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCB0ZWFjaGVyUGVyY2VudFNoYWRvdyArIFwiLCAxMDBcIik7XG4gICAgICAgICQoJy5zdGF0aXN0aWNzLWNoYXJ0LS1zdHVkZW50IC5jaXJjbGUnKS5hdHRyKCdzdHJva2UtZGFzaGFycmF5Jywgc3R1ZGVudFBlcmNlbnQgKyBcIiwgMTAwXCIpO1xuICAgICAgICAkKCcuc3RhdGlzdGljcy1jaGFydC0tc3R1ZGVudCAuY2lyY2xlLXdoaXRlJykuYXR0cignc3Ryb2tlLWRhc2hhcnJheScsIHN0dWRlbnRQZXJjZW50U2hhZG93ICsgXCIsIDEwMFwiKTtcblxuXG5cblxuICAgIH0sXG4gICAgc2Nyb2xsVG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IGJ0blNjcm9sbFVwID0gJChcIi5idG4tdXBcIik7XG4gICAgICAgIC8vICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vICAgICBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gNjAwICkge1xuICAgICAgICAvLyAgICAgICAgIGJ0blNjcm9sbFVwLmFkZENsYXNzKCdzaG93ZWQnKTtcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICAgICAgYnRuU2Nyb2xsVXAucmVtb3ZlQ2xhc3MoJ3Nob3dlZCcpO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9KS5zY3JvbGwoKTtcblxuICAgICAgICBidG5TY3JvbGxVcC5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sIFwic2xvd1wiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBtb2JpbGVNZW51OiBmdW5jdGlvbigpIHtcblxuICAgICAgICBjb25zdCB0b3VjaCA9ICQoJy5oYW1idXJnZXInKTtcbiAgICAgICAgY29uc3QgbWVudSA9ICQoJy5tb2JpbGUtbWVudScpO1xuICAgICAgICBjb25zdCBwcm9maWxlTWVudSA9ICQoJy5tb2JpbGUtcHJvZmlsZS1tZW51Jyk7XG5cbiAgICAgICAgdG91Y2gub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBtZW51LmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnLmgtcHJvZmlsZV9fbGluaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcHJvZmlsZU1lbnUuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcubW9iaWxlLW1lbnVfX2Nsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBtZW51LnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnLm1vYmlsZS1wcm9maWxlLW1lbnVfX2Nsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBwcm9maWxlTWVudS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgfSxcbiAgICBtYWluU2xpZGVyOiBmdW5jdGlvbigpe1xuICAgICAgICBjb25zdCBzd2lwZXIgPSBuZXcgU3dpcGVyKCcudHJ5LW5vdy1zbGlkZXInLCB7XG4gICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMjAsXG4gICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcbiAgICAgICAgICAgIHNwZWVkOiA4MDAsXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgICAgICAgIG5leHRFbDogJy50cnktbm93LXNsaWRlcl9fYXJyb3ctLW5leHQnLFxuICAgICAgICAgICAgICAgIHByZXZFbDogJy50cnktbm93LXNsaWRlcl9fYXJyb3ctLXByZXYnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgICAgICAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXG4gICAgICAgICAgICAgICAgY2xpY2thYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICAgICAgICAgICAgOTAwOiB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYWR2YW50YWdlc1NsaWRlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcignLmFkdmFudGFnZXNfX3NsaWRlcicsIHtcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgICAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgICAgICAgIGVsOiAnLmFkdmFudGFnZXNfX3BhZ2luYXRpb24nLFxuICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgbmV4dEVsOiAnLmFkdmFudGFnZXNfX25leHQnLFxuICAgICAgICAgICAgICAgIHByZXZFbDogJy5hZHZhbnRhZ2VzX19wcmV2JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgbWFzb25yeUluaXQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoJy5nYWxsZXJ5X19saXN0JykubWFzb25yeSh7XG4gICAgICAgICAgICAgICAgaXRlbVNlbGVjdG9yOiAnLmdhbGxlcnlfX2l0ZW0nLFxuICAgICAgICAgICAgICAgIGNvbHVtbldpZHRoOiAnLmdhbGxlcnlfX2l0ZW0nLFxuICAgICAgICAgICAgICAgIGd1dHRlcjogMjZcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCcuY2F0YWxvZy1saXN0JykubWFzb25yeSh7XG4gICAgICAgICAgICAgICAgaXRlbVNlbGVjdG9yOiAnLmNhdGFsb2ctbGlzdF9faXRlbScsXG4gICAgICAgICAgICAgICAgY29sdW1uV2lkdGg6ICcuY2F0YWxvZy1saXN0X19pdGVtJyxcbiAgICAgICAgICAgICAgICBndXR0ZXI6IDMwXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnLm5ld3NfX2xpc3QnKS5tYXNvbnJ5KHtcbiAgICAgICAgICAgICAgICBpdGVtU2VsZWN0b3I6ICcubmV3cy1pdGVtcycsXG4gICAgICAgICAgICAgICAgY29sdW1uV2lkdGg6ICcubmV3cy1pdGVtcycsXG4gICAgICAgICAgICAgICAgZ3V0dGVyOiAzMFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoJy5hY2Nlc3Nvcmllcy1saXN0JykubWFzb25yeSh7XG4gICAgICAgICAgICAgICAgaXRlbVNlbGVjdG9yOiAnLmFjY2Vzc29yaWVzLWxpc3RfX2l0ZW0nLFxuICAgICAgICAgICAgICAgIGNvbHVtbldpZHRoOiAnLmFjY2Vzc29yaWVzLWxpc3RfX2l0ZW0nLFxuICAgICAgICAgICAgICAgIGd1dHRlcjogMzBcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCcuYWNjZXNzb3JpZXMtbGlzdF9faXRlbScpLm9uKCdtb3VzZWVudGVyIG1vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJCgnLmFjY2Vzc29yaWVzLWxpc3QnKS5tYXNvbnJ5KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcblxuICAgIH0sXG4gICAgaGlkZU1lc3NhZ2U6IGZ1bmN0aW9uKCl7XG4gICAgICAgICQoJy5hdHRlbnRpb24tdG9wLW1zZyAuYXR0ZW50aW9uLXRvcC1tc2dfX2J0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmF0dGVudGlvbi10b3AtbXNnJykuaGlkZSgpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHNlbGVjdEJveDogZnVuY3Rpb24oKXtcbiAgICAgICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPD0gNzY4ICkge1xuICAgICAgICAgICAgJCgnLmRyb3Bkb3duJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vICQodGhpcykuYXR0cigndGFiaW5kZXgnLCAxKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5kcm9wZG93bl9fbWVudScpLnNsaWRlVG9nZ2xlKDMwMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoJy5kcm9wZG93bicpLmZvY3Vzb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5kcm9wZG93bl9fbWVudScpLnNsaWRlVXAoMzAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJCgnLmRyb3Bkb3duX19tZW51IGxpJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmRyb3Bkb3duJykuZmluZCgnLmRyb3Bkb3duX19zZWxlY3QnKS5odG1sKCQodGhpcykuaHRtbCgpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cblxuICAgIH0sXG4gICAgbG9hZE1vcmVDYXRhbG9nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnLmNhdGFsb2ctbGlzdF9faXRlbScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5jYXRhbG9nLWxpc3RfX21vcmUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuY2F0YWxvZy1saXN0X19pdGVtJykuZmluZCgnLmNhdGFsb2ctbGlzdF9fdGhlbWVzJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAkKCcuY2F0YWxvZy1saXN0JykubWFzb25yeSgpO1xuICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBjYXJ0U2xpZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgZ2FsbGVyeVRodW1icyA9IG5ldyBTd2lwZXIoJy5jYXJ0LXNsaWRlci1ib3R0b20nLCB7XG4gICAgICAgICAgICBzcGFjZUJldHdlZW46IDEwLFxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNCxcbiAgICAgICAgICAgIGZyZWVNb2RlOiB0cnVlLFxuICAgICAgICAgICAgd2F0Y2hTbGlkZXNWaXNpYmlsaXR5OiB0cnVlLFxuICAgICAgICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgbmV4dEVsOiAnLmNhcnQtc2xpZGVyLWJvdHRvbV9fbmV4dCcsXG4gICAgICAgICAgICAgICAgcHJldkVsOiAnLmNhcnQtc2xpZGVyLWJvdHRvbV9fcHJldicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZ2FsbGVyeVRvcCA9IG5ldyBTd2lwZXIoJy5jYXJ0LXNsaWRlci10b3AnLCB7XG4gICAgICAgICAgICBzcGFjZUJldHdlZW46IDEwLFxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgICAgICAgICBlbDogJy5jYXJ0LXNsaWRlci10b3BfX3BhZ2luYXRpb24nLFxuICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aHVtYnM6IHtcbiAgICAgICAgICAgICAgICBzd2lwZXI6IGdhbGxlcnlUaHVtYnNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBicmVha3BvaW50czoge1xuICAgICAgICAgICAgICAgIDU3Njoge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDIsXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogODAwLFxuICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgaW50ZXJlc3RpbmdTbGlkZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBzd2lwZXIgPSBuZXcgU3dpcGVyKCcuaW50ZXJlc3Rpbmctc2xpZGVyJywge1xuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNCxcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjozMCxcbiAgICAgICAgICAgIC8vIHNwZWVkOiA4MDAsXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgICAgICAgIGVsOiAnLmludGVyZXN0aW5nLXNsaWRlcl9fcGFnaW5hdGlvbicsXG4gICAgICAgICAgICAgICAgY2xpY2thYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgICAgICAgICBuZXh0RWw6ICcuaW50ZXJlc3Rpbmctc2xpZGVyX19uZXh0JyxcbiAgICAgICAgICAgICAgICBwcmV2RWw6ICcuaW50ZXJlc3Rpbmctc2xpZGVyX19wcmV2JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBicmVha3BvaW50czoge1xuICAgICAgICAgICAgICAgIDc2ODoge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxuXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICA2MDA6IHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMixcblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgNDQxOiB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGlucHV0Rm9jdXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCcuZmllbGRfX2lucHV0JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZigkKHRoaXMpLnZhbCgpLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50KCkuYWRkQ2xhc3MoJ2ZpbGxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJCh0aGlzKS5rZXl1cChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZigkKHRoaXMpLnZhbCgpLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdmaWxsZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2ZpbGxlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHRhYnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCcudGFicy1uYXYnKS5vbignY2xpY2snLCAnbGk6bm90KC5hY3RpdmUpJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygkKHRoaXMpLnBhcmVudCgpLm5leHQoKSlcbiAgICAgICAgICAgICQodGhpcylcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICAgICAgICAgLnBhcmVudCgpLm5leHQoKS5jbG9zZXN0KCcudGFicycpLmZpbmQoJy50YWJzLWNvbnRlbnQnKS5yZW1vdmVDbGFzcygnYWN0aXZlJykuZXEoJCh0aGlzKS5pbmRleCgpKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgY2FsZW5kYXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCcucHJvZmlsZV9fZGF0ZXBpY2tlcicpLmRhdGVwaWNrZXIoe1xuICAgICAgICAgICAgbGFuZ3VhZ2U6IHtcbiAgICAgICAgICAgICAgICBkYXlzOiBbXCLQndC10LTRltC70Y9cIiwgXCLQn9C+0L3QtdC00ZbQu9C+0LpcIiwgXCLQktGW0LLRgtC+0YDQvtC6XCIsIFwi0KHQtdGA0LXQtNCwXCIsIFwi0KfQtdGC0LLQtdGAXCIsIFwi0J9g0Y/RgtC90LjRhtGPXCIsIFwi0KHRg9Cx0L7RgtCwXCJdLFxuICAgICAgICAgICAgICAgIGRheXNTaG9ydDogW1wi0J3QtdC0XCIsIFwi0J/QvtC9XCIsIFwi0JLRltCyXCIsIFwi0KHQtdGAXCIsIFwi0KfQtdGCXCIsIFwi0J9g0Y/RglwiLCBcItCh0YPQsVwiXSxcbiAgICAgICAgICAgICAgICBkYXlzTWluOiBbXCLQndC0XCIsIFwi0J/QvVwiLCBcItCS0YJcIiwgXCLQodGAXCIsIFwi0KfRglwiLCBcItCf0YJcIiwgXCLQodCxXCJdLFxuICAgICAgICAgICAgICAgIG1vbnRoczogW1wi0KHRltGH0LXQvdGMXCIsIFwi0JvRjtGC0LjQuVwiLCBcItCR0LXRgNC10LfQtdC90YxcIiwgXCLQmtCy0ZbRgtC10L3RjFwiLCBcItCi0YDQsNCy0LXQvdGMXCIsIFwi0KfQtdGA0LLQtdC90YxcIiwgXCLQm9C40L/QtdC90YxcIiwgXCLQodC10YDQv9C10L3RjFwiLCBcItCS0LXRgNC10YHQtdC90YxcIiwgXCLQltC+0LLRgtC10L3RjFwiLCBcItCb0LjRgdGC0L7Qv9Cw0LRcIiwgXCLQk9GA0YPQtNC10L3RjFwiXSxcbiAgICAgICAgICAgICAgICBtb250aHNTaG9ydDogW1wi0KHRltGHXCIsIFwi0JvRjtGCXCIsIFwi0JHQtdGAXCIsIFwi0JrQstGWXCIsIFwi0KLRgNCwXCIsIFwi0KfQtdGAXCIsIFwi0JvQuNC/XCIsIFwi0KHQtdGAXCIsIFwi0JLQtdGAXCIsIFwi0JbQvtCyXCIsIFwi0JvQuNGBXCIsIFwi0JPRgNGDXCJdLFxuICAgICAgICAgICAgICAgIHRvZGF5OiBcItCh0YzQvtCz0L7QtNC90ZZcIixcbiAgICAgICAgICAgICAgICBjbGVhcjogXCLQntGH0LjRgdGC0LjRgtC4XCIsXG4gICAgICAgICAgICAgICAgZGF0ZUZvcm1hdDogXCJkZC5tbS55eXl5XCIsXG4gICAgICAgICAgICAgICAgZmlyc3REYXk6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9LFxuICAgIHNob3dQYXNzd29yZDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgJChcIi5maWVsZF9faWNvbi0tcGFzc1wiKS5jbGljayhmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcyhcInNob3dcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gJCh0aGlzKS5wYXJlbnQoKS5maW5kKCcuZmllbGRfX2lucHV0Jyk7XG5cbiAgICAgICAgICAgIGlmIChpbnB1dC5hdHRyKFwidHlwZVwiKSA9PSBcInBhc3N3b3JkXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5hdHRyKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlucHV0LmF0dHIoXCJ0eXBlXCIsIFwicGFzc3dvcmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfSxcbiAgICBhY2NvcmRpb246IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICQoJy5hY2NvcmRpb25fX2hlYWQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgICQoJy5hY2NvcmRpb25fX2JvZHknKS5ub3QoJCh0aGlzKS5uZXh0KCkpLnNsaWRlVXAoNDAwKTtcbiAgICAgICAgICAgICQoJy5hY2NvcmRpb25fX2hlYWQnKS5ub3QoJCh0aGlzKSkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAkKHRoaXMpLm5leHQoKS5zbGlkZVRvZ2dsZSg0MDApO1xuICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJy5hY2NvcmRpb24taW5uZXJfX2hlYWQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgICQoJy5hY2NvcmRpb24taW5uZXJfX2JvZHknKS5ub3QoJCh0aGlzKS5uZXh0KCkpLnNsaWRlVXAoNDAwKTtcbiAgICAgICAgICAgICQoJy5hY2NvcmRpb24taW5uZXJfX2hlYWQnKS5ub3QoJCh0aGlzKSkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAkKHRoaXMpLm5leHQoKS5zbGlkZVRvZ2dsZSg0MDApO1xuICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuXG5cbiAgICB9LFxuXG59XG5cbiJdfQ==
