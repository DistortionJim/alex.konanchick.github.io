"use strict";var SiteJS={onload:document.addEventListener("DOMContentLoaded",function(){SiteJS.init(),$(".js-select").select2();new LazyLoad({elements_selector:".lazy"})}),init:function(){this.fixedHeader(),this.scrollTop(),this.statisticsMap(),this.mobileMenu(),this.mainSlider(),this.advantagesSlider(),this.masonryInit(),this.hideMessage(),this.selectBox(),this.loadMoreCatalog(),this.cartSlider(),this.interestingSlider(),this.inputFocus(),this.tabs(),this.calendar(),this.showPassword(),this.accordion(),this.previewVideo()},fixedHeader:function(){var t=$(".header__bottom");$(window).scroll(function(){44<$(window).scrollTop()?t.addClass("fixed"):t.removeClass("fixed")}).scroll()},statisticsMap:function(){$(document).mouseup(function(t){var e=$(".map-tooltip");e.is(t.target)||0!==e.has(t.target).length||(e.removeClass("active"),$(".map-statistics__svg .active-path").removeClass("active"))}),$(".map-statistics__svg .active-path").on("click",function(){var t=$(this).attr("id"),e=$(".map-tooltip");$(".map-statistics__svg .active-path").removeClass("active"),e.removeClass("active"),$(this).addClass("active"),e.each(function(){$(this).hasClass(t)&&$(this).addClass("active")})});function t(t,e){return 100*e/(t+e)-.8}var e=parseInt($(".statistics-chart--teacher .statistics-chart__val--registre").text().replace(/\s+/g,"")),i=parseInt($(".statistics-chart--teacher .statistics-chart__val--active").text().replace(/\s+/g,"")),s=parseInt($(".statistics-chart--student .statistics-chart__val--registre").text().replace(/\s+/g,"")),a=parseInt($(".statistics-chart--student .statistics-chart__val--active").text().replace(/\s+/g,"")),n=t(e,i),o=n+1.6,c=t(s,a),r=c+1.6;$(".statistics-chart--teacher .circle").attr("stroke-dasharray",n+", 100"),$(".statistics-chart--teacher .circle-white").attr("stroke-dasharray",o+", 100"),$(".statistics-chart--student .circle").attr("stroke-dasharray",c+", 100"),$(".statistics-chart--student .circle-white").attr("stroke-dasharray",r+", 100")},scrollTop:function(){$(".btn-up").click(function(t){return t.preventDefault(),$("html, body").animate({scrollTop:0},"slow"),!1})},mobileMenu:function(){var t=$(".hamburger"),e=$(".mobile-menu"),i=$(".mobile-profile-menu");t.on("click",function(){e.addClass("active")}),$(".h-profile__link").on("click",function(){i.addClass("active")}),$(".mobile-menu__close").on("click",function(){e.removeClass("active")}),$(".mobile-profile-menu__close").on("click",function(){i.removeClass("active")})},mainSlider:function(){new Swiper(".try-now-slider",{slidesPerView:2,spaceBetween:120,centeredSlides:!0,speed:800,loop:!0,navigation:{nextEl:".try-now-slider__arrow--next",prevEl:".try-now-slider__arrow--prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{900:{slidesPerView:"auto",spaceBetween:0,centeredSlides:!1,navigation:!1,loop:!1}}})},advantagesSlider:function(){new Swiper(".advantages__slider",{slidesPerView:"auto",loop:!0,spaceBetween:30,pagination:{el:".advantages__pagination",clickable:!0},navigation:{nextEl:".advantages__next",prevEl:".advantages__prev"}})},masonryInit:function(){$(document).ready(function(){$(".gallery__list").masonry({itemSelector:".gallery__item",columnWidth:".gallery__item",gutter:26}),$(".catalog-list").masonry({itemSelector:".catalog-list__item",columnWidth:".catalog-list__item",gutter:30}),$(".news__list").masonry({itemSelector:".news-items",columnWidth:".news-items",gutter:30}),$(".accessories-list").masonry({itemSelector:".accessories-list__item",columnWidth:".accessories-list__item",gutter:30}),$(".accessories-list__item").on("mouseenter mouseleave",function(){$(".accessories-list").masonry()})})},hideMessage:function(){$(".attention-top-msg .attention-top-msg__btn").on("click",function(){$(this).parents(".attention-top-msg").hide()})},selectBox:function(){$(window).width()<=768&&($(".dropdown").click(function(){$(this).toggleClass("active"),$(this).find(".dropdown__menu").slideToggle(300)}),$(".dropdown").focusout(function(){$(this).removeClass("active"),$(this).find(".dropdown__menu").slideUp(300)}),$(".dropdown__menu li").click(function(){$(this).parents(".dropdown").find(".dropdown__select").html($(this).html())}))},loadMoreCatalog:function(){$(".catalog-list__item").each(function(){$(this).find(".catalog-list__more").on("click",function(t){t.preventDefault(),$(this).toggleClass("active"),$(this).parents(".catalog-list__item").find(".catalog-list__themes").toggleClass("active"),$(".catalog-list").masonry()})})},cartSlider:function(){var t=new Swiper(".cart-slider-bottom",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,loop:!0,navigation:{nextEl:".cart-slider-bottom__next",prevEl:".cart-slider-bottom__prev"}});new Swiper(".cart-slider-top",{spaceBetween:10,loop:!0,pagination:{el:".cart-slider-top__pagination",clickable:!0},thumbs:{swiper:t},breakpoints:{576:{slidesPerView:2,spaceBetween:2,centeredSlides:!0,speed:800,loop:!0}}})},interestingSlider:function(){new Swiper(".interesting-slider",{slidesPerView:4,spaceBetween:30,loop:!0,pagination:{el:".interesting-slider__pagination",clickable:!0},navigation:{nextEl:".interesting-slider__next",prevEl:".interesting-slider__prev"},breakpoints:{768:{slidesPerView:3},600:{slidesPerView:2},441:{slidesPerView:"auto"}}})},inputFocus:function(){$(".field__input").each(function(){0<$(this).val().length&&$(this).parent().addClass("filled"),$(this).keyup(function(){0<$(this).val().length?$(this).parent().addClass("filled"):$(this).parent().removeClass("filled")})})},tabs:function(){$(".tabs-nav").on("click","li:not(.active)",function(){console.log($(this).parent().next()),$(this).addClass("active").siblings().removeClass("active").parent().next().closest(".tabs").find(".tabs-content").removeClass("active").eq($(this).index()).addClass("active")})},calendar:function(){$(".profile__datepicker").datepicker({language:{days:["Неділя","Понеділок","Вівторок","Середа","Четвер","П`ятниця","Субота"],daysShort:["Нед","Пон","Вів","Сер","Чет","П`ят","Суб"],daysMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthsShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],today:"Сьогодні",clear:"Очистити",dateFormat:"dd.mm.yyyy",firstDay:1}})},showPassword:function(){$(".field__icon--pass").click(function(){$(this).toggleClass("show");var t=$(this).parent().find(".field__input");"password"==t.attr("type")?t.attr("type","text"):t.attr("type","password")})},accordion:function(){$(".accordion__head").on("click",function(){$(".accordion__body").not($(this).next()).slideUp(400),$(".accordion__head").not($(this)).removeClass("active"),$(this).next().slideToggle(400),$(this).toggleClass("active")}),$(".accordion-inner__head").on("click",function(){$(".accordion-inner__body").not($(this).next()).slideUp(400),$(".accordion-inner__head").not($(this)).removeClass("active"),$(this).next().slideToggle(400),$(this).toggleClass("active")})},previewVideo:function(){$(".advantages__item").each(function(){$(this).find(".advantages__preview").on("click",function(){$(this).addClass("hidden"),$(this).siblings(".advantages__iframe").find("iframe").attr("src",$(this).siblings(".advantages__iframe").find("iframe").data("src"))})})}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiU2l0ZUpTIiwib25sb2FkIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5pdCIsIiQiLCJzZWxlY3QyIiwiTGF6eUxvYWQiLCJlbGVtZW50c19zZWxlY3RvciIsInRoaXMiLCJmaXhlZEhlYWRlciIsInNjcm9sbFRvcCIsInN0YXRpc3RpY3NNYXAiLCJtb2JpbGVNZW51IiwibWFpblNsaWRlciIsImFkdmFudGFnZXNTbGlkZXIiLCJtYXNvbnJ5SW5pdCIsImhpZGVNZXNzYWdlIiwic2VsZWN0Qm94IiwibG9hZE1vcmVDYXRhbG9nIiwiY2FydFNsaWRlciIsImludGVyZXN0aW5nU2xpZGVyIiwiaW5wdXRGb2N1cyIsInRhYnMiLCJjYWxlbmRhciIsInNob3dQYXNzd29yZCIsImFjY29yZGlvbiIsInByZXZpZXdWaWRlbyIsImJ0blNjcm9sbFVwIiwid2luZG93Iiwic2Nyb2xsIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIm1vdXNldXAiLCJlIiwiZGl2IiwiaXMiLCJ0YXJnZXQiLCJoYXMiLCJsZW5ndGgiLCJvbiIsImZpbGxJZCIsImF0dHIiLCJ0b29sdGlwIiwiZWFjaCIsImhhc0NsYXNzIiwicGVyY2VudCIsImEiLCJiIiwidGVhY2hlclJlZ2lzdHJlIiwicGFyc2VJbnQiLCJ0ZXh0IiwicmVwbGFjZSIsInRlYWNoZXJBY3RpdmUiLCJzdHVkZW50UmVnaXN0cmUiLCJzdHVkZW50QWN0aXZlIiwidGVhY2hlclBlcmNlbnQiLCJ0ZWFjaGVyUGVyY2VudFNoYWRvdyIsInN0dWRlbnRQZXJjZW50Iiwic3R1ZGVudFBlcmNlbnRTaGFkb3ciLCJjbGljayIsInByZXZlbnREZWZhdWx0IiwiYW5pbWF0ZSIsInRvdWNoIiwibWVudSIsInByb2ZpbGVNZW51IiwiU3dpcGVyIiwic2xpZGVzUGVyVmlldyIsInNwYWNlQmV0d2VlbiIsImNlbnRlcmVkU2xpZGVzIiwic3BlZWQiLCJsb29wIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsInBhZ2luYXRpb24iLCJlbCIsImNsaWNrYWJsZSIsImJyZWFrcG9pbnRzIiwiOTAwIiwicmVhZHkiLCJtYXNvbnJ5IiwiaXRlbVNlbGVjdG9yIiwiY29sdW1uV2lkdGgiLCJndXR0ZXIiLCJwYXJlbnRzIiwiaGlkZSIsIndpZHRoIiwidG9nZ2xlQ2xhc3MiLCJmaW5kIiwic2xpZGVUb2dnbGUiLCJmb2N1c291dCIsInNsaWRlVXAiLCJodG1sIiwiZ2FsbGVyeVRodW1icyIsImZyZWVNb2RlIiwid2F0Y2hTbGlkZXNWaXNpYmlsaXR5Iiwid2F0Y2hTbGlkZXNQcm9ncmVzcyIsInRodW1icyIsInN3aXBlciIsIjU3NiIsIjc2OCIsIjYwMCIsIjQ0MSIsInZhbCIsInBhcmVudCIsImtleXVwIiwiY29uc29sZSIsImxvZyIsIm5leHQiLCJzaWJsaW5ncyIsImNsb3Nlc3QiLCJlcSIsImluZGV4IiwiZGF0ZXBpY2tlciIsImxhbmd1YWdlIiwiZGF5cyIsImRheXNTaG9ydCIsImRheXNNaW4iLCJtb250aHMiLCJtb250aHNTaG9ydCIsInRvZGF5IiwiY2xlYXIiLCJkYXRlRm9ybWF0IiwiZmlyc3REYXkiLCJpbnB1dCIsIm5vdCIsImRhdGEiXSwibWFwcGluZ3MiOiJhQUFBLElBQUlBLE9BQVMsQ0FDVEMsT0FBUUMsU0FBU0MsaUJBQWlCLG1CQUFvQixXQUNsREgsT0FBT0ksT0FFUEMsRUFBRSxjQUFjQyxVQUVTLElBQUlDLFNBQVMsQ0FDbENDLGtCQUFtQixZQUkzQkosS0FBTSxXQUVGSyxLQUFLQyxjQUVMRCxLQUFLRSxZQUVMRixLQUFLRyxnQkFFTEgsS0FBS0ksYUFFTEosS0FBS0ssYUFFTEwsS0FBS00sbUJBRUxOLEtBQUtPLGNBRUxQLEtBQUtRLGNBRUxSLEtBQUtTLFlBRUxULEtBQUtVLGtCQUVMVixLQUFLVyxhQUVMWCxLQUFLWSxvQkFFTFosS0FBS2EsYUFFTGIsS0FBS2MsT0FFTGQsS0FBS2UsV0FFTGYsS0FBS2dCLGVBRUxoQixLQUFLaUIsWUFFTGpCLEtB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WSxVQUUvQzNCLEVBQUVJLE1BQU1vRyxPQUFPbkIsWUFBWSxLQUMzQnJGLEVBQUVJLE1BQU0rRSxZQUFZLFlBR3hCbkYsRUFBRSwwQkFBMEJtQyxHQUFHLFFBQVMsV0FDcENuQyxFQUFFLDBCQUEwQnlILElBQUl6SCxFQUFFSSxNQUFNb0csUUFBUWpCLFFBQVEsS0FDeER2RixFQUFFLDBCQUEwQnlILElBQUl6SCxFQUFFSSxPQUFPdUIsWUFBWSxVQUVyRDNCLEVBQUVJLE1BQU1vRyxPQUFPbkIsWUFBWSxLQUMzQnJGLEVBQUVJLE1BQU0rRSxZQUFZLGFBSTVCN0QsYUFBYyxXQUVWdEIsRUFBRSxxQkFBcUJ1QyxLQUFLLFdBQ3pCdkMsRUFBRUksTUFBTWdGLEtBQUssd0JBQXdCakQsR0FBRyxRQUFTLFdBQzdDbkMsRUFBRUksTUFBTXNCLFNBQVMsVUFDakIxQixFQUFFSSxNQUFNcUcsU0FBUyx1QkFBdUJyQixLQUFLLFVBQVUvQyxLQUFLLE1BQU9yQyxFQUFFSSxNQUFNcUcsU0FBUyx1QkFBdUJyQixLQUFLLFVBQVVzQyxLQUFLIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFNpdGVKUyA9IHtcbiAgICBvbmxvYWQ6IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFNpdGVKUy5pbml0KCk7XG5cbiAgICAgICAgJCgnLmpzLXNlbGVjdCcpLnNlbGVjdDIoKTtcblxuICAgICAgICBjb25zdCBsYXp5TG9hZEluc3RhbmNlID0gbmV3IExhenlMb2FkKHtcbiAgICAgICAgICAgIGVsZW1lbnRzX3NlbGVjdG9yOiBcIi5sYXp5XCJcbiAgICAgICAgfSk7XG5cbiAgICB9KSxcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5maXhlZEhlYWRlcigpO1xuXG4gICAgICAgIHRoaXMuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgdGhpcy5zdGF0aXN0aWNzTWFwKCk7XG5cbiAgICAgICAgdGhpcy5tb2JpbGVNZW51KCk7XG5cbiAgICAgICAgdGhpcy5tYWluU2xpZGVyKCk7XG5cbiAgICAgICAgdGhpcy5hZHZhbnRhZ2VzU2xpZGVyKCk7XG5cbiAgICAgICAgdGhpcy5tYXNvbnJ5SW5pdCgpO1xuXG4gICAgICAgIHRoaXMuaGlkZU1lc3NhZ2UoKTtcblxuICAgICAgICB0aGlzLnNlbGVjdEJveCgpO1xuXG4gICAgICAgIHRoaXMubG9hZE1vcmVDYXRhbG9nKCk7XG5cbiAgICAgICAgdGhpcy5jYXJ0U2xpZGVyKCk7XG5cbiAgICAgICAgdGhpcy5pbnRlcmVzdGluZ1NsaWRlcigpO1xuXG4gICAgICAgIHRoaXMuaW5wdXRGb2N1cygpO1xuXG4gICAgICAgIHRoaXMudGFicygpO1xuXG4gICAgICAgIHRoaXMuY2FsZW5kYXIoKTtcblxuICAgICAgICB0aGlzLnNob3dQYXNzd29yZCgpO1xuXG4gICAgICAgIHRoaXMuYWNjb3JkaW9uKCk7XG5cbiAgICAgICAgdGhpcy5wcmV2aWV3VmlkZW8oKTtcblxuXG4gICAgfSxcbiAgICBmaXhlZEhlYWRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBidG5TY3JvbGxVcCA9ICQoXCIuaGVhZGVyX19ib3R0b21cIik7XG4gICAgICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gNDQgKSB7XG4gICAgICAgICAgICAgICAgYnRuU2Nyb2xsVXAuYWRkQ2xhc3MoJ2ZpeGVkJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ0blNjcm9sbFVwLnJlbW92ZUNsYXNzKCdmaXhlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5zY3JvbGwoKTtcbiAgICB9LFxuICAgIHN0YXRpc3RpY3NNYXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uIChlKXtcbiAgICAgICAgICAgIGNvbnN0IGRpdiA9ICQoXCIubWFwLXRvb2x0aXBcIik7XG4gICAgICAgICAgICBpZiAoIWRpdi5pcyhlLnRhcmdldClcbiAgICAgICAgICAgICAgICAmJiBkaXYuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBkaXYucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICQoJy5tYXAtc3RhdGlzdGljc19fc3ZnIC5hY3RpdmUtcGF0aCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgICQoJy5tYXAtc3RhdGlzdGljc19fc3ZnIC5hY3RpdmUtcGF0aCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGxJZCA9ICQodGhpcykuYXR0cignaWQnKTtcbiAgICAgICAgICAgIGNvbnN0IHRvb2x0aXAgPSAkKCcubWFwLXRvb2x0aXAnKTtcbiAgICAgICAgICAgICQoJy5tYXAtc3RhdGlzdGljc19fc3ZnIC5hY3RpdmUtcGF0aCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIHRvb2x0aXAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICB0b29sdGlwLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoZmlsbElkKSkge1xuICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHRlYWNoZXJSZWdpc3RyZSA9IHBhcnNlSW50KCQoJy5zdGF0aXN0aWNzLWNoYXJ0LS10ZWFjaGVyIC5zdGF0aXN0aWNzLWNoYXJ0X192YWwtLXJlZ2lzdHJlJykudGV4dCgpLnJlcGxhY2UoL1xccysvZywgJycpKTtcbiAgICAgICAgY29uc3QgdGVhY2hlckFjdGl2ZSA9IHBhcnNlSW50KCQoJy5zdGF0aXN0aWNzLWNoYXJ0LS10ZWFjaGVyIC5zdGF0aXN0aWNzLWNoYXJ0X192YWwtLWFjdGl2ZScpLnRleHQoKS5yZXBsYWNlKC9cXHMrL2csICcnKSk7XG4gICAgICAgIGNvbnN0IHN0dWRlbnRSZWdpc3RyZSA9IHBhcnNlSW50KCQoJy5zdGF0aXN0aWNzLWNoYXJ0LS1zdHVkZW50IC5zdGF0aXN0aWNzLWNoYXJ0X192YWwtLXJlZ2lzdHJlJykudGV4dCgpLnJlcGxhY2UoL1xccysvZywgJycpKTtcbiAgICAgICAgY29uc3Qgc3R1ZGVudEFjdGl2ZSA9IHBhcnNlSW50KCQoJy5zdGF0aXN0aWNzLWNoYXJ0LS1zdHVkZW50IC5zdGF0aXN0aWNzLWNoYXJ0X192YWwtLWFjdGl2ZScpLnRleHQoKS5yZXBsYWNlKC9cXHMrL2csICcnKSk7XG5cbiAgICAgICAgY29uc3QgcGVyY2VudCA9IChhLCBiKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKGIgKiAxMDAgLyAoYSArIGIpKSAtIDAuODtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB0ZWFjaGVyUGVyY2VudCA9IHBlcmNlbnQodGVhY2hlclJlZ2lzdHJlLCB0ZWFjaGVyQWN0aXZlKTtcbiAgICAgICAgY29uc3QgdGVhY2hlclBlcmNlbnRTaGFkb3cgPSB0ZWFjaGVyUGVyY2VudCArIDEuNjtcbiAgICAgICAgY29uc3Qgc3R1ZGVudFBlcmNlbnQgPSBwZXJjZW50KHN0dWRlbnRSZWdpc3RyZSwgc3R1ZGVudEFjdGl2ZSk7XG4gICAgICAgIGNvbnN0IHN0dWRlbnRQZXJjZW50U2hhZG93ID0gc3R1ZGVudFBlcmNlbnQgKyAxLjY7XG5cbiAgICAgICAgJCgnLnN0YXRpc3RpY3MtY2hhcnQtLXRlYWNoZXIgLmNpcmNsZScpLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCB0ZWFjaGVyUGVyY2VudCArIFwiLCAxMDBcIik7XG4gICAgICAgICQoJy5zdGF0aXN0aWNzLWNoYXJ0LS10ZWFjaGVyIC5jaXJjbGUtd2hpdGUnKS5hdHRyKCdzdHJva2UtZGFzaGFycmF5JywgdGVhY2hlclBlcmNlbnRTaGFkb3cgKyBcIiwgMTAwXCIpO1xuICAgICAgICAkKCcuc3RhdGlzdGljcy1jaGFydC0tc3R1ZGVudCAuY2lyY2xlJykuYXR0cignc3Ryb2tlLWRhc2hhcnJheScsIHN0dWRlbnRQZXJjZW50ICsgXCIsIDEwMFwiKTtcbiAgICAgICAgJCgnLnN0YXRpc3RpY3MtY2hhcnQtLXN0dWRlbnQgLmNpcmNsZS13aGl0ZScpLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCBzdHVkZW50UGVyY2VudFNoYWRvdyArIFwiLCAxMDBcIik7XG5cblxuXG5cbiAgICB9LFxuICAgIHNjcm9sbFRvcDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBidG5TY3JvbGxVcCA9ICQoXCIuYnRuLXVwXCIpO1xuICAgICAgICAvLyAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyAgICAgaWYgKCQod2luZG93KS5zY3JvbGxUb3AoKSA+IDYwMCApIHtcbiAgICAgICAgLy8gICAgICAgICBidG5TY3JvbGxVcC5hZGRDbGFzcygnc2hvd2VkJyk7XG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgICAgIGJ0blNjcm9sbFVwLnJlbW92ZUNsYXNzKCdzaG93ZWQnKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfSkuc2Nyb2xsKCk7XG5cbiAgICAgICAgYnRuU2Nyb2xsVXAuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZSh7IHNjcm9sbFRvcDogMCB9LCBcInNsb3dcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgbW9iaWxlTWVudTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgY29uc3QgdG91Y2ggPSAkKCcuaGFtYnVyZ2VyJyk7XG4gICAgICAgIGNvbnN0IG1lbnUgPSAkKCcubW9iaWxlLW1lbnUnKTtcbiAgICAgICAgY29uc3QgcHJvZmlsZU1lbnUgPSAkKCcubW9iaWxlLXByb2ZpbGUtbWVudScpO1xuXG4gICAgICAgIHRvdWNoLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbWVudS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJy5oLXByb2ZpbGVfX2xpbmsnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHByb2ZpbGVNZW51LmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnLm1vYmlsZS1tZW51X19jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbWVudS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJy5tb2JpbGUtcHJvZmlsZS1tZW51X19jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcHJvZmlsZU1lbnUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9KTtcblxuICAgIH0sXG4gICAgbWFpblNsaWRlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcignLnRyeS1ub3ctc2xpZGVyJywge1xuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMixcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMTIwLFxuICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IHRydWUsXG4gICAgICAgICAgICBzcGVlZDogODAwLFxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgICAgICAgICBuZXh0RWw6ICcudHJ5LW5vdy1zbGlkZXJfX2Fycm93LS1uZXh0JyxcbiAgICAgICAgICAgICAgICBwcmV2RWw6ICcudHJ5LW5vdy1zbGlkZXJfX2Fycm93LS1wcmV2JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgICAgICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBicmVha3BvaW50czoge1xuICAgICAgICAgICAgICAgIDkwMDoge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogZmFsc2UsXG5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFkdmFudGFnZXNTbGlkZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGNvbnN0IHN3aXBlciA9IG5ldyBTd2lwZXIoJy5hZHZhbnRhZ2VzX19zbGlkZXInLCB7XG4gICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgICAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgICAgICAgICBlbDogJy5hZHZhbnRhZ2VzX19wYWdpbmF0aW9uJyxcbiAgICAgICAgICAgICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgICAgICAgIG5leHRFbDogJy5hZHZhbnRhZ2VzX19uZXh0JyxcbiAgICAgICAgICAgICAgICBwcmV2RWw6ICcuYWR2YW50YWdlc19fcHJldicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIG1hc29ucnlJbml0OiBmdW5jdGlvbigpe1xuICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKCcuZ2FsbGVyeV9fbGlzdCcpLm1hc29ucnkoe1xuICAgICAgICAgICAgICAgIGl0ZW1TZWxlY3RvcjogJy5nYWxsZXJ5X19pdGVtJyxcbiAgICAgICAgICAgICAgICBjb2x1bW5XaWR0aDogJy5nYWxsZXJ5X19pdGVtJyxcbiAgICAgICAgICAgICAgICBndXR0ZXI6IDI2XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnLmNhdGFsb2ctbGlzdCcpLm1hc29ucnkoe1xuICAgICAgICAgICAgICAgIGl0ZW1TZWxlY3RvcjogJy5jYXRhbG9nLWxpc3RfX2l0ZW0nLFxuICAgICAgICAgICAgICAgIGNvbHVtbldpZHRoOiAnLmNhdGFsb2ctbGlzdF9faXRlbScsXG4gICAgICAgICAgICAgICAgZ3V0dGVyOiAzMFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoJy5uZXdzX19saXN0JykubWFzb25yeSh7XG4gICAgICAgICAgICAgICAgaXRlbVNlbGVjdG9yOiAnLm5ld3MtaXRlbXMnLFxuICAgICAgICAgICAgICAgIGNvbHVtbldpZHRoOiAnLm5ld3MtaXRlbXMnLFxuICAgICAgICAgICAgICAgIGd1dHRlcjogMzBcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCcuYWNjZXNzb3JpZXMtbGlzdCcpLm1hc29ucnkoe1xuICAgICAgICAgICAgICAgIGl0ZW1TZWxlY3RvcjogJy5hY2Nlc3Nvcmllcy1saXN0X19pdGVtJyxcbiAgICAgICAgICAgICAgICBjb2x1bW5XaWR0aDogJy5hY2Nlc3Nvcmllcy1saXN0X19pdGVtJyxcbiAgICAgICAgICAgICAgICBndXR0ZXI6IDMwXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnLmFjY2Vzc29yaWVzLWxpc3RfX2l0ZW0nKS5vbignbW91c2VlbnRlciBtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQoJy5hY2Nlc3Nvcmllcy1saXN0JykubWFzb25yeSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9LFxuICAgIGhpZGVNZXNzYWdlOiBmdW5jdGlvbigpe1xuICAgICAgICAkKCcuYXR0ZW50aW9uLXRvcC1tc2cgLmF0dGVudGlvbi10b3AtbXNnX19idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5hdHRlbnRpb24tdG9wLW1zZycpLmhpZGUoKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBzZWxlY3RCb3g6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKCQod2luZG93KS53aWR0aCgpIDw9IDc2OCApIHtcbiAgICAgICAgICAgICQoJy5kcm9wZG93bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyAkKHRoaXMpLmF0dHIoJ3RhYmluZGV4JywgMSk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuZHJvcGRvd25fX21lbnUnKS5zbGlkZVRvZ2dsZSgzMDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKCcuZHJvcGRvd24nKS5mb2N1c291dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuZHJvcGRvd25fX21lbnUnKS5zbGlkZVVwKDMwMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoJy5kcm9wZG93bl9fbWVudSBsaScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5kcm9wZG93bicpLmZpbmQoJy5kcm9wZG93bl9fc2VsZWN0JykuaHRtbCgkKHRoaXMpLmh0bWwoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG5cbiAgICB9LFxuICAgIGxvYWRNb3JlQ2F0YWxvZzogZnVuY3Rpb24oKSB7XG4gICAgICAgICQoJy5jYXRhbG9nLWxpc3RfX2l0ZW0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuY2F0YWxvZy1saXN0X19tb3JlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmNhdGFsb2ctbGlzdF9faXRlbScpLmZpbmQoJy5jYXRhbG9nLWxpc3RfX3RoZW1lcycpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgJCgnLmNhdGFsb2ctbGlzdCcpLm1hc29ucnkoKTtcbiAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgY2FydFNsaWRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IGdhbGxlcnlUaHVtYnMgPSBuZXcgU3dpcGVyKCcuY2FydC1zbGlkZXItYm90dG9tJywge1xuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDQsXG4gICAgICAgICAgICBmcmVlTW9kZTogdHJ1ZSxcbiAgICAgICAgICAgIHdhdGNoU2xpZGVzVmlzaWJpbGl0eTogdHJ1ZSxcbiAgICAgICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgICAgICAgIG5leHRFbDogJy5jYXJ0LXNsaWRlci1ib3R0b21fX25leHQnLFxuICAgICAgICAgICAgICAgIHByZXZFbDogJy5jYXJ0LXNsaWRlci1ib3R0b21fX3ByZXYnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGdhbGxlcnlUb3AgPSBuZXcgU3dpcGVyKCcuY2FydC1zbGlkZXItdG9wJywge1xuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgICAgICAgZWw6ICcuY2FydC1zbGlkZXItdG9wX19wYWdpbmF0aW9uJyxcbiAgICAgICAgICAgICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGh1bWJzOiB7XG4gICAgICAgICAgICAgICAgc3dpcGVyOiBnYWxsZXJ5VGh1bWJzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYnJlYWtwb2ludHM6IHtcbiAgICAgICAgICAgICAgICA1NzY6IHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMixcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAyLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDgwMCxcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGludGVyZXN0aW5nU2xpZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcignLmludGVyZXN0aW5nLXNsaWRlcicsIHtcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDQsXG4gICAgICAgICAgICBzcGFjZUJldHdlZW46MzAsXG4gICAgICAgICAgICAvLyBzcGVlZDogODAwLFxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgICAgICAgICBlbDogJy5pbnRlcmVzdGluZy1zbGlkZXJfX3BhZ2luYXRpb24nLFxuICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgbmV4dEVsOiAnLmludGVyZXN0aW5nLXNsaWRlcl9fbmV4dCcsXG4gICAgICAgICAgICAgICAgcHJldkVsOiAnLmludGVyZXN0aW5nLXNsaWRlcl9fcHJldicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYnJlYWtwb2ludHM6IHtcbiAgICAgICAgICAgICAgICA3Njg6IHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMyxcblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgNjAwOiB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXG5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIDQ0MToge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBpbnB1dEZvY3VzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnLmZpZWxkX19pbnB1dCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYoJCh0aGlzKS52YWwoKS5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdmaWxsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQodGhpcykua2V5dXAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYoJCh0aGlzKS52YWwoKS5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnZmlsbGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdmaWxsZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICB0YWJzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnLnRhYnMtbmF2Jykub24oJ2NsaWNrJywgJ2xpOm5vdCguYWN0aXZlKScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJCh0aGlzKS5wYXJlbnQoKS5uZXh0KCkpXG4gICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgICAgICAgIC5wYXJlbnQoKS5uZXh0KCkuY2xvc2VzdCgnLnRhYnMnKS5maW5kKCcudGFicy1jb250ZW50JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLmVxKCQodGhpcykuaW5kZXgoKSkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGNhbGVuZGFyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnLnByb2ZpbGVfX2RhdGVwaWNrZXInKS5kYXRlcGlja2VyKHtcbiAgICAgICAgICAgIGxhbmd1YWdlOiB7XG4gICAgICAgICAgICAgICAgZGF5czogW1wi0J3QtdC00ZbQu9GPXCIsIFwi0J/QvtC90LXQtNGW0LvQvtC6XCIsIFwi0JLRltCy0YLQvtGA0L7QulwiLCBcItCh0LXRgNC10LTQsFwiLCBcItCn0LXRgtCy0LXRgFwiLCBcItCfYNGP0YLQvdC40YbRj1wiLCBcItCh0YPQsdC+0YLQsFwiXSxcbiAgICAgICAgICAgICAgICBkYXlzU2hvcnQ6IFtcItCd0LXQtFwiLCBcItCf0L7QvVwiLCBcItCS0ZbQslwiLCBcItCh0LXRgFwiLCBcItCn0LXRglwiLCBcItCfYNGP0YJcIiwgXCLQodGD0LFcIl0sXG4gICAgICAgICAgICAgICAgZGF5c01pbjogW1wi0J3QtFwiLCBcItCf0L1cIiwgXCLQktGCXCIsIFwi0KHRgFwiLCBcItCn0YJcIiwgXCLQn9GCXCIsIFwi0KHQsVwiXSxcbiAgICAgICAgICAgICAgICBtb250aHM6IFtcItCh0ZbRh9C10L3RjFwiLCBcItCb0Y7RgtC40LlcIiwgXCLQkdC10YDQtdC30LXQvdGMXCIsIFwi0JrQstGW0YLQtdC90YxcIiwgXCLQotGA0LDQstC10L3RjFwiLCBcItCn0LXRgNCy0LXQvdGMXCIsIFwi0JvQuNC/0LXQvdGMXCIsIFwi0KHQtdGA0L/QtdC90YxcIiwgXCLQktC10YDQtdGB0LXQvdGMXCIsIFwi0JbQvtCy0YLQtdC90YxcIiwgXCLQm9C40YHRgtC+0L/QsNC0XCIsIFwi0JPRgNGD0LTQtdC90YxcIl0sXG4gICAgICAgICAgICAgICAgbW9udGhzU2hvcnQ6IFtcItCh0ZbRh1wiLCBcItCb0Y7RglwiLCBcItCR0LXRgFwiLCBcItCa0LLRllwiLCBcItCi0YDQsFwiLCBcItCn0LXRgFwiLCBcItCb0LjQv1wiLCBcItCh0LXRgFwiLCBcItCS0LXRgFwiLCBcItCW0L7QslwiLCBcItCb0LjRgVwiLCBcItCT0YDRg1wiXSxcbiAgICAgICAgICAgICAgICB0b2RheTogXCLQodGM0L7Qs9C+0LTQvdGWXCIsXG4gICAgICAgICAgICAgICAgY2xlYXI6IFwi0J7Rh9C40YHRgtC40YLQuFwiLFxuICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQ6IFwiZGQubW0ueXl5eVwiLFxuICAgICAgICAgICAgICAgIGZpcnN0RGF5OiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfSxcbiAgICBzaG93UGFzc3dvcmQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICQoXCIuZmllbGRfX2ljb24tLXBhc3NcIikuY2xpY2soZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJzaG93XCIpO1xuXG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9ICQodGhpcykucGFyZW50KCkuZmluZCgnLmZpZWxkX19pbnB1dCcpO1xuXG4gICAgICAgICAgICBpZiAoaW5wdXQuYXR0cihcInR5cGVcIikgPT0gXCJwYXNzd29yZFwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuYXR0cihcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5hdHRyKFwidHlwZVwiLCBcInBhc3N3b3JkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH0sXG4gICAgYWNjb3JkaW9uOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAkKCcuYWNjb3JkaW9uX19oZWFkJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAkKCcuYWNjb3JkaW9uX19ib2R5Jykubm90KCQodGhpcykubmV4dCgpKS5zbGlkZVVwKDQwMCk7XG4gICAgICAgICAgICAkKCcuYWNjb3JkaW9uX19oZWFkJykubm90KCQodGhpcykpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgJCh0aGlzKS5uZXh0KCkuc2xpZGVUb2dnbGUoNDAwKTtcbiAgICAgICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcuYWNjb3JkaW9uLWlubmVyX19oZWFkJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAkKCcuYWNjb3JkaW9uLWlubmVyX19ib2R5Jykubm90KCQodGhpcykubmV4dCgpKS5zbGlkZVVwKDQwMCk7XG4gICAgICAgICAgICAkKCcuYWNjb3JkaW9uLWlubmVyX19oZWFkJykubm90KCQodGhpcykpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgJCh0aGlzKS5uZXh0KCkuc2xpZGVUb2dnbGUoNDAwKTtcbiAgICAgICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9KTtcblxuICAgIH0sXG4gICAgcHJldmlld1ZpZGVvOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAkKCcuYWR2YW50YWdlc19faXRlbScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5hZHZhbnRhZ2VzX19wcmV2aWV3Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCcuYWR2YW50YWdlc19faWZyYW1lJykuZmluZCgnaWZyYW1lJykuYXR0cihcInNyY1wiLCAkKHRoaXMpLnNpYmxpbmdzKCcuYWR2YW50YWdlc19faWZyYW1lJykuZmluZCgnaWZyYW1lJykuZGF0YSgnc3JjJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG59XG5cbiJdfQ==
